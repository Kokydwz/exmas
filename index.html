<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†Ø§Øª</title>

<!-- Font Cairo -->
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">

<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
body {
    font-family: 'Cairo', sans-serif;
    background: linear-gradient(135deg,#e9f0ff,#f7f9fc);
    margin:0;
    padding:20px;
    color:#333;
}
.container { max-width:900px; margin:auto; }
h2 { text-align:center; margin-bottom:25px; color:#2a2a2a; font-weight:700; }

/* Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØµÙ */
select#gradeSelect {
    width:100%;
    padding:12px;
    margin:12px 0 25px 0;
    border-radius:12px;
    border:none;
    background: linear-gradient(135deg,#6b8cff,#3b5bff);
    color:white;
    font-weight:600;
    font-size:16px;
    cursor:pointer;
    -webkit-appearance:none;
    -moz-appearance:none;
    appearance:none;
}
select#gradeSelect option {
    color:#333;
    font-weight:400;
}

/* Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª */
.card {
    background:white;
    padding:22px;
    margin:15px 0;
    border-radius:16px;
    box-shadow:0 4px 15px rgba(0,0,0,0.08);
    transition:0.3s;
}
.card:hover { transform:translateY(-4px); box-shadow:0 6px 20px rgba(111,130,255,0.25);}
.subject-box { display:flex; justify-content:space-between; align-items:center; }
.subject-info { display:flex; flex-direction:column; }
.subject-info span.desc { font-size:14px; color:#555; margin-top:5px; }
.subject-info span.date { font-size:14px; color:#888; margin-top:2px; }

/* Ø²Ø± Ø§Ù„ØªÙˆØ§ØµÙ„ */
#contactBtn {
    display:block;
    width:100%;
    text-align:center;
    margin-top:25px;
    padding:14px;
    background: linear-gradient(135deg,#3b5bff,#6b8cff);
    color:white;
    border:none;
    border-radius:12px;
    font-size:16px;
    font-weight:600;
    cursor:pointer;
    transition:0.2s;
}
#contactBtn:hover { background: linear-gradient(135deg,#6b8cff,#3b5bff); }

/* Ø§Ù„ØµÙØ­Ø§Øª */
.page { display:none; }
.page.active { display:block; }

/* Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ */
input,textarea { width:100%; padding:12px; margin:8px 0; border-radius:10px; border:2px solid #dde3ff; font-size:15px; }
textarea { height:130px; resize:none; }
button.form-btn { width:100%; margin-top:15px; }

/* Ø²Ø± Ø±Ø¬ÙˆØ¹ */
.back-btn { display:inline-block; background:#333; color:white; padding:10px 14px; border-radius:8px; text-decoration:none; margin-bottom:10px; }

.footer { text-align:center; margin-top:40px; color:#777; font-size:14px; }
</style>
</head>
<body>

<div class="container">

<!-- Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
<div id="page-home" class="page active">
    <h2><i class="fa-solid fa-calendar-days"></i> Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†Ø§Øª</h2>
    <label><i class="fa-solid fa-layer-group"></i> Ø§Ø®ØªØ± Ø§Ù„ØµÙ</label>
    <select id="gradeSelect">
        <option value="">-- Ø§Ø®ØªØ± Ø§Ù„ØµÙ --</option>
        <option value="sixth">Ø§Ù„ØµÙ Ø§Ù„Ø³Ø§Ø¯Ø³</option>
        <option value="fifth">Ø§Ù„ØµÙ Ø§Ù„Ø®Ø§Ù…Ø³</option>
        <option value="fourth">Ø§Ù„ØµÙ Ø§Ù„Ø±Ø§Ø¨Ø¹</option>
    </select>

    <div id="examList"></div>

    <!-- Ø²Ø± Ø§Ù„ØªÙˆØ§ØµÙ„ -->
    <button id="contactBtn" onclick="goTo('contact')"><i class="fa fa-comments"></i> ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</button>
</div>

<!-- ØµÙØ­Ø© Ø§Ù„ØªÙˆØ§ØµÙ„ -->
<div id="page-contact" class="page">
    <a class="back-btn" onclick="goTo('home')"><i class="fa fa-arrow-right"></i> Ø±Ø¬ÙˆØ¹</a>
    <h2><i class="fa-solid fa-paper-plane"></i> Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø©</h2>

    <label>ğŸ”¹ Ø§Ø³Ù…Ùƒ:</label>
    <input type="text" id="student_name" placeholder="Ù…Ø«Ø§Ù„: Ø£Ø­Ù…Ø¯ Ø¹Ù„ÙŠ">

    <label>ğŸ”¹ Ø£Ø¯Ø®Ù„ ID Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù… Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ:</label>
    <input type="number" id="tg_id" placeholder="Ù…Ø«Ø§Ù„: 123456789">

    <label>âœï¸ Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ:</label>
    <textarea id="msg"></textarea>

    <label>ğŸ“ Ø¥Ø±ÙØ§Ù‚ ØµÙˆØ±Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):</label>
    <input type="file" id="imgFile">

    <button class="form-btn" onclick="sendToBot()"><i class="fa fa-paper-plane"></i> Ø¥Ø±Ø³Ø§Ù„</button>
    <p id="sendStatus" style="text-align:center; margin-top:10px;"></p>
</div>

</div>

<div class="footer">
    <p>Â© Ù…Ù†ØµØ© Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†Ø§Øª</p>
</div>

<script>
// Ù‚Ø±Ø§Ø¡Ø© JSON Ø®Ø§Ø±Ø¬ÙŠ
let examsData = {};
fetch("exams.json")
  .then(res => res.json())
  .then(data => examsData = data);

// Ø¹Ø±Ø¶ Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†Ø§Øª Ø­Ø³Ø¨ Ø§Ù„ØµÙ
document.getElementById("gradeSelect").addEventListener("change", ()=>{
    let grade=document.getElementById("gradeSelect").value;
    let box=document.getElementById("examList");
    box.innerHTML="";
    if(!grade || !examsData[grade]) return;
    examsData[grade].forEach(ex=>{
        box.innerHTML+=`
        <div class="card">
            <div class="subject-box">
                <div class="subject-info">
                    <h3><i class="fa ${ex.icon}" style="color:#3b5bff;"></i> ${ex.name}</h3>
                    <span class="desc">${ex.desc}</span>
                    <span class="date">${ex.day} - ${ex.date}</span>
                </div>
            </div>
        </div>`;
    });
});

// Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„ØµÙØ­Ø§Øª
function goTo(page){
    document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
    document.getElementById("page-"+page).classList.add("active");
}

// Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ù„Ù„Ø¨ÙˆØª
async function sendToBot(){
    const teacher_id = "7688384540"; // ID Ø§Ù„Ø°ÙŠ ØªØ³ØªÙ‚Ø¨Ù„ Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
    const token="7519385180:AAE082W_w-AfjcMhcLqb9NfgqtK4q2IAHzc";
    let student_name = document.getElementById("student_name").value;
    let chat_id=document.getElementById("tg_id").value;
    let message=document.getElementById("msg").value;
    let status=document.getElementById("sendStatus");
    let file=document.getElementById("imgFile").files[0];

    if(!student_name || !chat_id){ alert("âš  Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù… ÙˆID Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…"); return; }

    let text = `ğŸ“© Ø±Ø³Ø§Ù„Ø© Ù…Ù† Ø§Ù„Ø·Ø§Ù„Ø¨:\nØ§Ù„Ø§Ø³Ù…: ${student_name}\nID: ${chat_id}\nØ§Ù„Ø±Ø³Ø§Ù„Ø©: ${message}`;

    await fetch(`https://api.telegram.org/bot${token}/sendMessage`,{
        method:"POST",
        headers:{ "Content-Type":"application/json" },
        body: JSON.stringify({chat_id:teacher_id, text:text})
    });

    if(file){
        const formData=new FormData();
        formData.append("chat_id",teacher_id);
        formData.append("photo",file);
        await fetch(`https://api.telegram.org/bot${token}/sendPhoto`, {method:"POST", body:formData});
    }

    status.innerHTML="âœ” ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­";
    status.style.color="green";

    // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø­Ù‚ÙˆÙ„
    document.getElementById("student_name").value="";
    document.getElementById("tg_id").value="";
    document.getElementById("msg").value="";
    document.getElementById("imgFile").value="";
}
</script>
</body>
</html>
